import{l as h,n as y,o as w}from"./system-b297d58e.js";import{u as C}from"./useNav-2cc20504.js";import{d as I,r as _,a as i,o as n,c as d,w as a,b as k,e as t,g as p,f as g,u as A,m as P,_ as U}from"./index-98552006.js";import{a as R}from"./regexpUtils-6ff1dd76.js";const x={class:"page-content"},q=I({__name:"ftp",setup(N){const{isAdmin:B}=C(),m=_(),e=_({iEnabled:1,sFTPIP:"",iFTPPort:void 0,sFTPUsername:"",sFTPPasswd:"",sRootPath:""}),f=_({});E();function E(){h().then(s=>{e.value=s.data}),c()}function c(){e.value.iEnabled==1?f.value={sFTPIP:[{required:!0,message:"\u8BF7\u8F93\u5165\u670D\u52A1\u5730\u5740",trigger:"change"},{validator:(s,u,o)=>{u===""?o(new Error("\u8BF7\u8F93\u5165\u670D\u52A1\u5730\u5740")):R(u)?o():o(new Error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684IP\u5730\u5740"))},trigger:"change"}],iFTPPort:[{required:!0,message:"\u8BF7\u8F93\u5165\u7AEF\u53E3",trigger:"change"}],sFTPUsername:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"change"}],sFTPPasswd:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"change"}],sRootPath:[{required:!0,message:"\u8BF7\u8F93\u5165\u8DEF\u5F84",trigger:"change"}]}:f.value={}}function V(){m.value.validate((s,u)=>{s&&y(e.value).then(o=>{o.data.iStatus==1?P("\u6D4B\u8BD5\u901A\u8FC7",{type:"success"}):P("\u6D4B\u8BD5\u672A\u901A\u8FC7",{type:"error"})})})}function T(){m.value.validate((s,u)=>{s&&w(e.value).then(o=>{P("\u8BBE\u7F6E\u6210\u529F",{type:"success"})})})}return(s,u)=>{const o=i("el-switch"),r=i("el-form-item"),F=i("el-input"),v=i("el-button"),b=i("el-form"),D=i("el-card");return n(),d(D,{class:"page-box"},{default:a(()=>[k("div",x,[t(b,{ref_key:"formRef",ref:m,model:e.value,rules:f.value,"label-width":"120","hide-required-asterisk":""},{default:a(()=>[t(r,{label:"\u542F\u7528FTP",prop:"iEnabled"},{default:a(()=>[t(o,{modelValue:e.value.iEnabled,"onUpdate:modelValue":u[0]||(u[0]=l=>e.value.iEnabled=l),"active-value":1,"inactive-value":0,onChange:c},null,8,["modelValue"])]),_:1}),e.value.iEnabled==1?(n(),d(r,{key:0,label:"\u670D\u52A1\u5730\u5740",prop:"sFTPIP"},{default:a(()=>[t(F,{modelValue:e.value.sFTPIP,"onUpdate:modelValue":u[1]||(u[1]=l=>e.value.sFTPIP=l),placeholder:"\u8BF7\u8F93\u5165\u670D\u52A1\u5730\u5740"},null,8,["modelValue"])]),_:1})):p("",!0),e.value.iEnabled==1?(n(),d(r,{key:1,label:"\u7AEF\u53E3",prop:"iFTPPort"},{default:a(()=>[t(F,{modelValue:e.value.iFTPPort,"onUpdate:modelValue":u[2]||(u[2]=l=>e.value.iFTPPort=l),placeholder:"\u8BF7\u8F93\u5165\u7AEF\u53E3"},null,8,["modelValue"])]),_:1})):p("",!0),e.value.iEnabled==1?(n(),d(r,{key:2,label:"\u7528\u6237\u540D",prop:"sFTPUsername"},{default:a(()=>[t(F,{modelValue:e.value.sFTPUsername,"onUpdate:modelValue":u[3]||(u[3]=l=>e.value.sFTPUsername=l),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["modelValue"])]),_:1})):p("",!0),e.value.iEnabled==1?(n(),d(r,{key:3,label:"\u5BC6\u7801",prop:"sFTPPasswd"},{default:a(()=>[t(F,{modelValue:e.value.sFTPPasswd,"onUpdate:modelValue":u[4]||(u[4]=l=>e.value.sFTPPasswd=l),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1})):p("",!0),e.value.iEnabled==1?(n(),d(r,{key:4,label:"\u8DEF\u5F84",prop:"sRootPath"},{default:a(()=>[t(F,{modelValue:e.value.sRootPath,"onUpdate:modelValue":u[5]||(u[5]=l=>e.value.sRootPath=l),placeholder:"\u8BF7\u8F93\u5165\u8DEF\u5F84"},null,8,["modelValue"])]),_:1})):p("",!0),t(r,null,{default:a(()=>[t(v,{type:"primary",plain:"",onClick:V},{default:a(()=>[g("\u6D4B\u8BD5")]),_:1}),A(B)?(n(),d(v,{key:0,type:"primary",onClick:T},{default:a(()=>[g(" \u4FDD\u5B58 ")]),_:1})):p("",!0)]),_:1})]),_:1},8,["model","rules"])])]),_:1})}}});const H=U(q,[["__scopeId","data-v-fc204522"]]);export{H as default};
