import{d as hn}from"./close-2eeed736.js";import{d as pn,g as mn}from"./setting-f0b02557.js";import{p as gn,A as vn,D as bn}from"./Dialog-d04ee64f.js";import{h as Tt,a as q,ak as _n,d as Ue,aH as Ce,U as Xe,r as It,M as yn,o as dt,F as Rt,H as Te,G as xe,e as g,w as y,b as mt,f as _t,t as Ie,u as at,m as oe,a2 as En,c as Ht,g as ie,K as wn,_ as Dn}from"./index-98552006.js";const Sn={width:24,height:24,body:'<path fill="currentColor" d="M6 7v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z"/>'},Cn={width:24,height:24,body:'<path fill="currentColor" d="M19.376 12.416L8.777 19.482A.5.5 0 0 1 8 19.066V4.934a.5.5 0 0 1 .777-.416l10.599 7.066a.5.5 0 0 1 0 .832z"/>'},Tn={width:1024,height:1024,body:'<path fill="currentColor" d="M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"/>'},xn=Tn,In={width:24,height:24,body:'<path fill="currentColor" d="M11 11V5.828L9.172 7.657L7.757 6.243L12 2l4.243 4.243l-1.415 1.414L13 5.828V11h5.172l-1.829-1.828l1.414-1.415L22 12l-4.243 4.243l-1.414-1.415L18.172 13H13v5.172l1.828-1.829l1.415 1.414L12 22l-4.243-4.243l1.415-1.414L11 18.172V13H5.828l1.829 1.828l-1.414 1.415L2 12l4.243-4.243l1.414 1.415L5.828 11z"/>'},Fn=In,On=()=>Tt.requestWithSimpleHandle("get","/cgi-bin/entry.cgi/ptz/path"),An=e=>Tt.requestWithSimpleHandle("post","/cgi-bin/entry.cgi/ptz/path-add",{data:{id:e.id,cruises:e.cruises}}),Pn=e=>Tt.requestWithSimpleHandle("post","/cgi-bin/entry.cgi/ptz/path-delete",{data:{id:e}}),Nn=()=>Tt.requestWithSimpleHandle("get","/cgi-bin/entry.cgi/ptz/path-status"),kn=e=>Tt.requestWithSimpleHandle("post","/cgi-bin/entry.cgi/ptz/path-start",{data:{id:e}}),Bn=e=>Tt.requestWithSimpleHandle("post","/cgi-bin/entry.cgi/ptz/path-stop",{data:{id:e}});/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fe(Object(n),!0).forEach(function(o){Ln(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function $t(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$t=function(t){return typeof t}:$t=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(e)}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(){return st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},st.apply(this,arguments)}function Mn(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,r;for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Vn(e,t){if(e==null)return{};var n=Mn(e,t),o,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(n[o]=e[o]))}return n}var Rn="1.14.0";function lt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var ut=lt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Mt=lt(/Edge/i),Oe=lt(/firefox/i),Pt=lt(/safari/i)&&!lt(/chrome/i)&&!lt(/android/i),Ye=lt(/iP(ad|od|hone)/i),Hn=lt(/chrome/i)&&lt(/android/i),We={capture:!1,passive:!1};function D(e,t,n){e.addEventListener(t,n,!ut&&We)}function E(e,t,n){e.removeEventListener(t,n,!ut&&We)}function Zt(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function zn(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function et(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Zt(e,t):Zt(e,t))||o&&e===n)return e;if(e===n)break}while(e=zn(e))}return null}var Ae=/\s+/g;function W(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(Ae," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(Ae," ")}}function h(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function St(e,t){var n="";if(typeof e=="string")n=e;else do{var o=h(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function $e(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function nt(){var e=document.scrollingElement;return e||document.documentElement}function P(e,t,n,o,i){if(!(!e.getBoundingClientRect&&e!==window)){var r,a,l,s,u,c,f;if(e!==window&&e.parentNode&&e!==nt()?(r=e.getBoundingClientRect(),a=r.top,l=r.left,s=r.bottom,u=r.right,c=r.height,f=r.width):(a=0,l=0,s=window.innerHeight,u=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!ut))do if(i&&i.getBoundingClientRect&&(h(i,"transform")!=="none"||n&&h(i,"position")!=="static")){var v=i.getBoundingClientRect();a-=v.top+parseInt(h(i,"border-top-width")),l-=v.left+parseInt(h(i,"border-left-width")),s=a+r.height,u=l+r.width;break}while(i=i.parentNode);if(o&&e!==window){var S=St(i||e),_=S&&S.a,w=S&&S.d;S&&(a/=w,l/=_,f/=_,c/=w,s=a+c,u=l+f)}return{top:a,left:l,bottom:s,right:u,width:f,height:c}}}function Pe(e,t,n){for(var o=ht(e,!0),i=P(e)[t];o;){var r=P(o)[n],a=void 0;if(n==="top"||n==="left"?a=i>=r:a=i<=r,!a)return o;if(o===nt())break;o=ht(o,!1)}return!1}function Ct(e,t,n,o){for(var i=0,r=0,a=e.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==p.ghost&&(o||a[r]!==p.dragged)&&et(a[r],n.draggable,e,!1)){if(i===t)return a[r];i++}r++}return null}function Ee(e,t){for(var n=e.lastElementChild;n&&(n===p.ghost||h(n,"display")==="none"||t&&!Zt(n,t));)n=n.previousElementSibling;return n||null}function K(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==p.clone&&(!t||Zt(e,t))&&n++;return n}function Ne(e){var t=0,n=0,o=nt();if(e)do{var i=St(e),r=i.a,a=i.d;t+=e.scrollLeft*r,n+=e.scrollTop*a}while(e!==o&&(e=e.parentNode));return[t,n]}function Un(e,t){for(var n in e)if(!!e.hasOwnProperty(n)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n)}return-1}function ht(e,t){if(!e||!e.getBoundingClientRect)return nt();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=h(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return nt();if(o||t)return n;o=!0}}while(n=n.parentNode);return nt()}function Xn(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function re(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Nt;function je(e,t){return function(){if(!Nt){var n=arguments,o=this;n.length===1?e.call(o,n[0]):e.apply(o,n),Nt=setTimeout(function(){Nt=void 0},t)}}}function Yn(){clearTimeout(Nt),Nt=void 0}function Ge(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function qe(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var j="Sortable"+new Date().getTime();function Wn(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(i){if(!(h(i,"display")==="none"||i===p.ghost)){e.push({target:i,rect:P(i)});var r=ot({},e[e.length-1].rect);if(i.thisAnimationDuration){var a=St(i,!0);a&&(r.top-=a.f,r.left-=a.e)}i.fromRect=r}})}},addAnimationState:function(o){e.push(o)},removeAnimationState:function(o){e.splice(Un(e,{target:o}),1)},animateAll:function(o){var i=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var r=!1,a=0;e.forEach(function(l){var s=0,u=l.target,c=u.fromRect,f=P(u),v=u.prevFromRect,S=u.prevToRect,_=l.rect,w=St(u,!0);w&&(f.top-=w.f,f.left-=w.e),u.toRect=f,u.thisAnimationDuration&&re(v,f)&&!re(c,f)&&(_.top-f.top)/(_.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(s=jn(_,v,S,i.options)),re(f,c)||(u.prevFromRect=c,u.prevToRect=f,s||(s=i.options.animation),i.animate(u,_,f,s)),s&&(r=!0,a=Math.max(a,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(t),r?t=setTimeout(function(){typeof o=="function"&&o()},a):typeof o=="function"&&o(),e=[]},animate:function(o,i,r,a){if(a){h(o,"transition",""),h(o,"transform","");var l=St(this.el),s=l&&l.a,u=l&&l.d,c=(i.left-r.left)/(s||1),f=(i.top-r.top)/(u||1);o.animatingX=!!c,o.animatingY=!!f,h(o,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=$n(o),h(o,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),h(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){h(o,"transition",""),h(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},a)}}}}function $n(e){return e.offsetWidth}function jn(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}var yt=[],ae={initializeByDefault:!0},Vt={mount:function(t){for(var n in ae)ae.hasOwnProperty(n)&&!(n in t)&&(t[n]=ae[n]);yt.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),yt.push(t)},pluginEvent:function(t,n,o){var i=this;this.eventCanceled=!1,o.cancel=function(){i.eventCanceled=!0};var r=t+"Global";yt.forEach(function(a){!n[a.pluginName]||(n[a.pluginName][r]&&n[a.pluginName][r](ot({sortable:n},o)),n.options[a.pluginName]&&n[a.pluginName][t]&&n[a.pluginName][t](ot({sortable:n},o)))})},initializePlugins:function(t,n,o,i){yt.forEach(function(l){var s=l.pluginName;if(!(!t.options[s]&&!l.initializeByDefault)){var u=new l(t,n,t.options);u.sortable=t,u.options=t.options,t[s]=u,st(o,u.defaults)}});for(var r in t.options)if(!!t.options.hasOwnProperty(r)){var a=this.modifyOption(t,r,t.options[r]);typeof a<"u"&&(t.options[r]=a)}},getEventProperties:function(t,n){var o={};return yt.forEach(function(i){typeof i.eventProperties=="function"&&st(o,i.eventProperties.call(n[i.pluginName],t))}),o},modifyOption:function(t,n,o){var i;return yt.forEach(function(r){!t[r.pluginName]||r.optionListeners&&typeof r.optionListeners[n]=="function"&&(i=r.optionListeners[n].call(t[r.pluginName],o))}),i}};function Gn(e){var t=e.sortable,n=e.rootEl,o=e.name,i=e.targetEl,r=e.cloneEl,a=e.toEl,l=e.fromEl,s=e.oldIndex,u=e.newIndex,c=e.oldDraggableIndex,f=e.newDraggableIndex,v=e.originalEvent,S=e.putSortable,_=e.extraEventProperties;if(t=t||n&&n[j],!!t){var w,Y=t.options,Z="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!ut&&!Mt?w=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(w=document.createEvent("Event"),w.initEvent(o,!0,!0)),w.to=a||n,w.from=l||n,w.item=i||n,w.clone=r,w.oldIndex=s,w.newIndex=u,w.oldDraggableIndex=c,w.newDraggableIndex=f,w.originalEvent=v,w.pullMode=S?S.lastPutMode:void 0;var b=ot(ot({},_),Vt.getEventProperties(o,t));for(var C in b)w[C]=b[C];n&&n.dispatchEvent(w),Y[Z]&&Y[Z].call(t,w)}}var qn=["evt"],X=function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=o.evt,r=Vn(o,qn);Vt.pluginEvent.bind(p)(t,n,ot({dragEl:d,parentEl:F,ghostEl:m,rootEl:x,nextEl:bt,lastDownEl:jt,cloneEl:O,cloneHidden:ft,dragStarted:Ft,putSortable:L,activeSortable:p.active,originalEvent:i,oldIndex:Dt,oldDraggableIndex:kt,newIndex:$,newDraggableIndex:ct,hideGhostForTarget:Je,unhideGhostForTarget:tn,cloneNowHidden:function(){ft=!0},cloneNowShown:function(){ft=!1},dispatchSortableEvent:function(l){z({sortable:n,name:l,originalEvent:i})}},r))};function z(e){Gn(ot({putSortable:L,cloneEl:O,targetEl:d,rootEl:x,oldIndex:Dt,oldDraggableIndex:kt,newIndex:$,newDraggableIndex:ct},e))}var d,F,m,x,bt,jt,O,ft,Dt,$,kt,ct,zt,L,wt=!1,Qt=!1,Jt=[],gt,Q,le,se,ke,Be,Ft,Et,Bt,Lt=!1,Ut=!1,Gt,R,ue=[],ge=!1,te=[],ne=typeof document<"u",Xt=Ye,Le=Mt||ut?"cssFloat":"float",Kn=ne&&!Hn&&!Ye&&"draggable"in document.createElement("div"),Ke=function(){if(!!ne){if(ut)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Ze=function(t,n){var o=h(t),i=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),r=Ct(t,0,n),a=Ct(t,1,n),l=r&&h(r),s=a&&h(a),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+P(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+P(a).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var f=l.float==="left"?"left":"right";return a&&(s.clear==="both"||s.clear===f)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=i&&o[Le]==="none"||a&&o[Le]==="none"&&u+c>i)?"vertical":"horizontal"},Zn=function(t,n,o){var i=o?t.left:t.top,r=o?t.right:t.bottom,a=o?t.width:t.height,l=o?n.left:n.top,s=o?n.right:n.bottom,u=o?n.width:n.height;return i===l||r===s||i+a/2===l+u/2},Qn=function(t,n){var o;return Jt.some(function(i){var r=i[j].options.emptyInsertThreshold;if(!(!r||Ee(i))){var a=P(i),l=t>=a.left-r&&t<=a.right+r,s=n>=a.top-r&&n<=a.bottom+r;if(l&&s)return o=i}}),o},Qe=function(t){function n(r,a){return function(l,s,u,c){var f=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(r==null&&(a||f))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return n(r(l,s,u,c),a)(l,s,u,c);var v=(a?l:s).options.group.name;return r===!0||typeof r=="string"&&r===v||r.join&&r.indexOf(v)>-1}}var o={},i=t.group;(!i||$t(i)!="object")&&(i={name:i}),o.name=i.name,o.checkPull=n(i.pull,!0),o.checkPut=n(i.put),o.revertClone=i.revertClone,t.group=o},Je=function(){!Ke&&m&&h(m,"display","none")},tn=function(){!Ke&&m&&h(m,"display","")};ne&&document.addEventListener("click",function(e){if(Qt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Qt=!1,!1},!0);var vt=function(t){if(d){t=t.touches?t.touches[0]:t;var n=Qn(t.clientX,t.clientY);if(n){var o={};for(var i in t)t.hasOwnProperty(i)&&(o[i]=t[i]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[j]._onDragOver(o)}}},Jn=function(t){d&&d.parentNode[j]._isOutsideThisEl(t.target)};function p(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=st({},t),e[j]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ze(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,l){a.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&!Pt,emptyInsertThreshold:5};Vt.initializePlugins(this,e,n);for(var o in n)!(o in t)&&(t[o]=n[o]);Qe(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:Kn,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?D(e,"pointerdown",this._onTapStart):(D(e,"mousedown",this._onTapStart),D(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(D(e,"dragover",this),D(e,"dragenter",this)),Jt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),st(this,Wn())}p.prototype={constructor:p,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Et=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,d):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var n=this,o=this.el,i=this.options,r=i.preventOnFilter,a=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(l||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=i.filter;if(lo(o),!d&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Pt&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=et(s,i.draggable,o,!1),!(s&&s.animated)&&jt!==s)){if(Dt=K(s),kt=K(s,i.draggable),typeof c=="function"){if(c.call(this,t,s,this)){z({sortable:n,rootEl:u,name:"filter",targetEl:s,toEl:o,fromEl:o}),X("filter",n,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=et(u,f.trim(),o,!1),f)return z({sortable:n,rootEl:f,name:"filter",targetEl:s,fromEl:o,toEl:o}),X("filter",n,{evt:t}),!0}),c)){r&&t.cancelable&&t.preventDefault();return}i.handle&&!et(u,i.handle,o,!1)||this._prepareDragStart(t,l,s)}}},_prepareDragStart:function(t,n,o){var i=this,r=i.el,a=i.options,l=r.ownerDocument,s;if(o&&!d&&o.parentNode===r){var u=P(o);if(x=r,d=o,F=d.parentNode,bt=d.nextSibling,jt=o,zt=a.group,p.dragged=d,gt={target:d,clientX:(n||t).clientX,clientY:(n||t).clientY},ke=gt.clientX-u.left,Be=gt.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,d.style["will-change"]="all",s=function(){if(X("delayEnded",i,{evt:t}),p.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Oe&&i.nativeDraggable&&(d.draggable=!0),i._triggerDragStart(t,n),z({sortable:i,name:"choose",originalEvent:t}),W(d,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){$e(d,c.trim(),de)}),D(l,"dragover",vt),D(l,"mousemove",vt),D(l,"touchmove",vt),D(l,"mouseup",i._onDrop),D(l,"touchend",i._onDrop),D(l,"touchcancel",i._onDrop),Oe&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),X("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Mt||ut))){if(p.eventCanceled){this._onDrop();return}D(l,"mouseup",i._disableDelayedDrag),D(l,"touchend",i._disableDelayedDrag),D(l,"touchcancel",i._disableDelayedDrag),D(l,"mousemove",i._delayedDragTouchMoveHandler),D(l,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&D(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&de(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;E(t,"mouseup",this._disableDelayedDrag),E(t,"touchend",this._disableDelayedDrag),E(t,"touchcancel",this._disableDelayedDrag),E(t,"mousemove",this._delayedDragTouchMoveHandler),E(t,"touchmove",this._delayedDragTouchMoveHandler),E(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?D(document,"pointermove",this._onTouchMove):n?D(document,"touchmove",this._onTouchMove):D(document,"mousemove",this._onTouchMove):(D(d,"dragend",this),D(x,"dragstart",this._onDragStart));try{document.selection?qt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(wt=!1,x&&d){X("dragStarted",this,{evt:n}),this.nativeDraggable&&D(document,"dragover",Jn);var o=this.options;!t&&W(d,o.dragClass,!1),W(d,o.ghostClass,!0),p.active=this,t&&this._appendGhost(),z({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Q){this._lastX=Q.clientX,this._lastY=Q.clientY,Je();for(var t=document.elementFromPoint(Q.clientX,Q.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Q.clientX,Q.clientY),t!==n);)n=t;if(d.parentNode[j]._isOutsideThisEl(t),n)do{if(n[j]){var o=void 0;if(o=n[j]._onDragOver({clientX:Q.clientX,clientY:Q.clientY,target:t,rootEl:n}),o&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);tn()}},_onTouchMove:function(t){if(gt){var n=this.options,o=n.fallbackTolerance,i=n.fallbackOffset,r=t.touches?t.touches[0]:t,a=m&&St(m,!0),l=m&&a&&a.a,s=m&&a&&a.d,u=Xt&&R&&Ne(R),c=(r.clientX-gt.clientX+i.x)/(l||1)+(u?u[0]-ue[0]:0)/(l||1),f=(r.clientY-gt.clientY+i.y)/(s||1)+(u?u[1]-ue[1]:0)/(s||1);if(!p.active&&!wt){if(o&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(m){a?(a.e+=c-(le||0),a.f+=f-(se||0)):a={a:1,b:0,c:0,d:1,e:c,f};var v="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");h(m,"webkitTransform",v),h(m,"mozTransform",v),h(m,"msTransform",v),h(m,"transform",v),le=c,se=f,Q=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!m){var t=this.options.fallbackOnBody?document.body:x,n=P(d,!0,Xt,!0,t),o=this.options;if(Xt){for(R=t;h(R,"position")==="static"&&h(R,"transform")==="none"&&R!==document;)R=R.parentNode;R!==document.body&&R!==document.documentElement?(R===document&&(R=nt()),n.top+=R.scrollTop,n.left+=R.scrollLeft):R=nt(),ue=Ne(R)}m=d.cloneNode(!0),W(m,o.ghostClass,!1),W(m,o.fallbackClass,!0),W(m,o.dragClass,!0),h(m,"transition",""),h(m,"transform",""),h(m,"box-sizing","border-box"),h(m,"margin",0),h(m,"top",n.top),h(m,"left",n.left),h(m,"width",n.width),h(m,"height",n.height),h(m,"opacity","0.8"),h(m,"position",Xt?"absolute":"fixed"),h(m,"zIndex","100000"),h(m,"pointerEvents","none"),p.ghost=m,t.appendChild(m),h(m,"transform-origin",ke/parseInt(m.style.width)*100+"% "+Be/parseInt(m.style.height)*100+"%")}},_onDragStart:function(t,n){var o=this,i=t.dataTransfer,r=o.options;if(X("dragStart",this,{evt:t}),p.eventCanceled){this._onDrop();return}X("setupClone",this),p.eventCanceled||(O=qe(d),O.draggable=!1,O.style["will-change"]="",this._hideClone(),W(O,this.options.chosenClass,!1),p.clone=O),o.cloneId=qt(function(){X("clone",o),!p.eventCanceled&&(o.options.removeCloneOnHide||x.insertBefore(O,d),o._hideClone(),z({sortable:o,name:"clone"}))}),!n&&W(d,r.dragClass,!0),n?(Qt=!0,o._loopId=setInterval(o._emulateDragOver,50)):(E(document,"mouseup",o._onDrop),E(document,"touchend",o._onDrop),E(document,"touchcancel",o._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(o,i,d)),D(document,"drop",o),h(d,"transform","translateZ(0)")),wt=!0,o._dragStartId=qt(o._dragStarted.bind(o,n,t)),D(document,"selectstart",o),Ft=!0,Pt&&h(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,o=t.target,i,r,a,l=this.options,s=l.group,u=p.active,c=zt===s,f=l.sort,v=L||u,S,_=this,w=!1;if(ge)return;function Y(xt,cn){X(xt,_,ot({evt:t,isOwner:c,axis:S?"vertical":"horizontal",revert:a,dragRect:i,targetRect:r,canSort:f,fromSortable:v,target:o,completed:b,onMove:function(Se,fn){return Yt(x,n,d,i,Se,P(Se),t,fn)},changed:C},cn))}function Z(){Y("dragOverAnimationCapture"),_.captureAnimationState(),_!==v&&v.captureAnimationState()}function b(xt){return Y("dragOverCompleted",{insertion:xt}),xt&&(c?u._hideClone():u._showClone(_),_!==v&&(W(d,L?L.options.ghostClass:u.options.ghostClass,!1),W(d,l.ghostClass,!0)),L!==_&&_!==p.active?L=_:_===p.active&&L&&(L=null),v===_&&(_._ignoreWhileAnimating=o),_.animateAll(function(){Y("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(o===d&&!d.animated||o===n&&!o.animated)&&(Et=null),!l.dragoverBubble&&!t.rootEl&&o!==document&&(d.parentNode[j]._isOutsideThisEl(t.target),!xt&&vt(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),w=!0}function C(){$=K(d),ct=K(d,l.draggable),z({sortable:_,name:"change",toEl:n,newIndex:$,newDraggableIndex:ct,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=et(o,l.draggable,n,!0),Y("dragOver"),p.eventCanceled)return w;if(d.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||_._ignoreWhileAnimating===o)return b(!1);if(Qt=!1,u&&!l.disabled&&(c?f||(a=F!==x):L===this||(this.lastPutMode=zt.checkPull(this,u,d,t))&&s.checkPut(this,u,d,t))){if(S=this._getDirection(t,o)==="vertical",i=P(d),Y("dragOverValid"),p.eventCanceled)return w;if(a)return F=x,Z(),this._hideClone(),Y("revert"),p.eventCanceled||(bt?x.insertBefore(d,bt):x.appendChild(d)),b(!0);var I=Ee(n,l.draggable);if(!I||oo(t,S,this)&&!I.animated){if(I===d)return b(!1);if(I&&n===t.target&&(o=I),o&&(r=P(o)),Yt(x,n,d,i,o,r,t,!!o)!==!1)return Z(),n.appendChild(d),F=n,C(),b(!0)}else if(I&&no(t,S,this)){var N=Ct(n,0,l,!0);if(N===d)return b(!1);if(o=N,r=P(o),Yt(x,n,d,i,o,r,t,!1)!==!1)return Z(),n.insertBefore(d,N),F=n,C(),b(!0)}else if(o.parentNode===n){r=P(o);var k=0,J,U=d.parentNode!==n,M=!Zn(d.animated&&d.toRect||i,o.animated&&o.toRect||r,S),pt=S?"top":"left",tt=Pe(o,"top","top")||Pe(d,"top","top"),it=tt?tt.scrollTop:void 0;Et!==o&&(J=r[pt],Lt=!1,Ut=!M&&l.invertSwap||U),k=io(t,o,r,S,M?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Ut,Et===o);var G;if(k!==0){var rt=K(d);do rt-=k,G=F.children[rt];while(G&&(h(G,"display")==="none"||G===m))}if(k===0||G===o)return b(!1);Et=o,Bt=k;var T=o.nextElementSibling,V=!1;V=k===1;var H=Yt(x,n,d,i,o,r,t,V);if(H!==!1)return(H===1||H===-1)&&(V=H===1),ge=!0,setTimeout(eo,30),Z(),V&&!T?n.appendChild(d):o.parentNode.insertBefore(d,V?T:o),tt&&Ge(tt,0,it-tt.scrollTop),F=d.parentNode,J!==void 0&&!Ut&&(Gt=Math.abs(J-P(o)[pt])),C(),b(!0)}if(n.contains(d))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){E(document,"mousemove",this._onTouchMove),E(document,"touchmove",this._onTouchMove),E(document,"pointermove",this._onTouchMove),E(document,"dragover",vt),E(document,"mousemove",vt),E(document,"touchmove",vt)},_offUpEvents:function(){var t=this.el.ownerDocument;E(t,"mouseup",this._onDrop),E(t,"touchend",this._onDrop),E(t,"pointerup",this._onDrop),E(t,"touchcancel",this._onDrop),E(document,"selectstart",this)},_onDrop:function(t){var n=this.el,o=this.options;if($=K(d),ct=K(d,o.draggable),X("drop",this,{evt:t}),F=d&&d.parentNode,$=K(d),ct=K(d,o.draggable),p.eventCanceled){this._nulling();return}wt=!1,Ut=!1,Lt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ve(this.cloneId),ve(this._dragStartId),this.nativeDraggable&&(E(document,"drop",this),E(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Pt&&h(document.body,"user-select",""),h(d,"transform",""),t&&(Ft&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(x===F||L&&L.lastPutMode!=="clone")&&O&&O.parentNode&&O.parentNode.removeChild(O),d&&(this.nativeDraggable&&E(d,"dragend",this),de(d),d.style["will-change"]="",Ft&&!wt&&W(d,L?L.options.ghostClass:this.options.ghostClass,!1),W(d,this.options.chosenClass,!1),z({sortable:this,name:"unchoose",toEl:F,newIndex:null,newDraggableIndex:null,originalEvent:t}),x!==F?($>=0&&(z({rootEl:F,name:"add",toEl:F,fromEl:x,originalEvent:t}),z({sortable:this,name:"remove",toEl:F,originalEvent:t}),z({rootEl:F,name:"sort",toEl:F,fromEl:x,originalEvent:t}),z({sortable:this,name:"sort",toEl:F,originalEvent:t})),L&&L.save()):$!==Dt&&$>=0&&(z({sortable:this,name:"update",toEl:F,originalEvent:t}),z({sortable:this,name:"sort",toEl:F,originalEvent:t})),p.active&&(($==null||$===-1)&&($=Dt,ct=kt),z({sortable:this,name:"end",toEl:F,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){X("nulling",this),x=d=F=m=bt=O=jt=ft=gt=Q=Ft=$=ct=Dt=kt=Et=Bt=L=zt=p.dragged=p.ghost=p.clone=p.active=null,te.forEach(function(t){t.checked=!0}),te.length=le=se=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":d&&(this._onDragOver(t),to(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,o=this.el.children,i=0,r=o.length,a=this.options;i<r;i++)n=o[i],et(n,a.draggable,this.el,!1)&&t.push(n.getAttribute(a.dataIdAttr)||ao(n));return t},sort:function(t,n){var o={},i=this.el;this.toArray().forEach(function(r,a){var l=i.children[a];et(l,this.options.draggable,i,!1)&&(o[r]=l)},this),n&&this.captureAnimationState(),t.forEach(function(r){o[r]&&(i.removeChild(o[r]),i.appendChild(o[r]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return et(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var o=this.options;if(n===void 0)return o[t];var i=Vt.modifyOption(this,t,n);typeof i<"u"?o[t]=i:o[t]=n,t==="group"&&Qe(o)},destroy:function(){X("destroy",this);var t=this.el;t[j]=null,E(t,"mousedown",this._onTapStart),E(t,"touchstart",this._onTapStart),E(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(E(t,"dragover",this),E(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Jt.splice(Jt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ft){if(X("hideClone",this),p.eventCanceled)return;h(O,"display","none"),this.options.removeCloneOnHide&&O.parentNode&&O.parentNode.removeChild(O),ft=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ft){if(X("showClone",this),p.eventCanceled)return;d.parentNode==x&&!this.options.group.revertClone?x.insertBefore(O,d):bt?x.insertBefore(O,bt):x.appendChild(O),this.options.group.revertClone&&this.animate(d,O),h(O,"display",""),ft=!1}}};function to(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Yt(e,t,n,o,i,r,a,l){var s,u=e[j],c=u.options.onMove,f;return window.CustomEvent&&!ut&&!Mt?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=i||t,s.relatedRect=r||P(t),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),c&&(f=c.call(u,s,a)),f}function de(e){e.draggable=!1}function eo(){ge=!1}function no(e,t,n){var o=P(Ct(n.el,0,n.options,!0)),i=10;return t?e.clientX<o.left-i||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-i||e.clientY<o.bottom&&e.clientX<o.left}function oo(e,t,n){var o=P(Ee(n.el,n.options.draggable)),i=10;return t?e.clientX>o.right+i||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+i}function io(e,t,n,o,i,r,a,l){var s=o?e.clientY:e.clientX,u=o?n.height:n.width,c=o?n.top:n.left,f=o?n.bottom:n.right,v=!1;if(!a){if(l&&Gt<u*i){if(!Lt&&(Bt===1?s>c+u*r/2:s<f-u*r/2)&&(Lt=!0),Lt)v=!0;else if(Bt===1?s<c+Gt:s>f-Gt)return-Bt}else if(s>c+u*(1-i)/2&&s<f-u*(1-i)/2)return ro(t)}return v=v||a,v&&(s<c+u*r/2||s>f-u*r/2)?s>c+u/2?1:-1:0}function ro(e){return K(d)<K(e)?1:-1}function ao(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function lo(e){te.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var o=t[n];o.checked&&te.push(o)}}function qt(e){return setTimeout(e,0)}function ve(e){return clearTimeout(e)}ne&&D(document,"touchmove",function(e){(p.active||wt)&&e.cancelable&&e.preventDefault()});p.utils={on:D,off:E,css:h,find:$e,is:function(t,n){return!!et(t,n,t,!1)},extend:Xn,throttle:je,closest:et,toggleClass:W,clone:qe,index:K,nextTick:qt,cancelNextTick:ve,detectDirection:Ze,getChild:Ct};p.get=function(e){return e[j]};p.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(p.utils=ot(ot({},p.utils),o.utils)),Vt.mount(o)})};p.create=function(e,t){return new p(e,t)};p.version=Rn;var A=[],Ot,be,_e=!1,ce,fe,ee,At;function so(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?D(document,"dragover",this._handleAutoScroll):this.options.supportPointer?D(document,"pointermove",this._handleFallbackAutoScroll):o.touches?D(document,"touchmove",this._handleFallbackAutoScroll):D(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?E(document,"dragover",this._handleAutoScroll):(E(document,"pointermove",this._handleFallbackAutoScroll),E(document,"touchmove",this._handleFallbackAutoScroll),E(document,"mousemove",this._handleFallbackAutoScroll)),Me(),Kt(),Yn()},nulling:function(){ee=be=Ot=_e=At=ce=fe=null,A.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var i=this,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=document.elementFromPoint(r,a);if(ee=n,o||this.options.forceAutoScrollFallback||Mt||ut||Pt){he(n,this.options,l,o);var s=ht(l,!0);_e&&(!At||r!==ce||a!==fe)&&(At&&Me(),At=setInterval(function(){var u=ht(document.elementFromPoint(r,a),!0);u!==s&&(s=u,Kt()),he(n,i.options,u,o)},10),ce=r,fe=a)}else{if(!this.options.bubbleScroll||ht(l,!0)===nt()){Kt();return}he(n,this.options,ht(l,!1),!1)}}},st(e,{pluginName:"scroll",initializeByDefault:!0})}function Kt(){A.forEach(function(e){clearInterval(e.pid)}),A=[]}function Me(){clearInterval(At)}var he=je(function(e,t,n,o){if(!!t.scroll){var i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,s=nt(),u=!1,c;be!==n&&(be=n,Kt(),Ot=t.scroll,c=t.scrollFn,Ot===!0&&(Ot=ht(n,!0)));var f=0,v=Ot;do{var S=v,_=P(S),w=_.top,Y=_.bottom,Z=_.left,b=_.right,C=_.width,I=_.height,N=void 0,k=void 0,J=S.scrollWidth,U=S.scrollHeight,M=h(S),pt=S.scrollLeft,tt=S.scrollTop;S===s?(N=C<J&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),k=I<U&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(N=C<J&&(M.overflowX==="auto"||M.overflowX==="scroll"),k=I<U&&(M.overflowY==="auto"||M.overflowY==="scroll"));var it=N&&(Math.abs(b-i)<=a&&pt+C<J)-(Math.abs(Z-i)<=a&&!!pt),G=k&&(Math.abs(Y-r)<=a&&tt+I<U)-(Math.abs(w-r)<=a&&!!tt);if(!A[f])for(var rt=0;rt<=f;rt++)A[rt]||(A[rt]={});(A[f].vx!=it||A[f].vy!=G||A[f].el!==S)&&(A[f].el=S,A[f].vx=it,A[f].vy=G,clearInterval(A[f].pid),(it!=0||G!=0)&&(u=!0,A[f].pid=setInterval(function(){o&&this.layer===0&&p.active._onTouchMove(ee);var T=A[this.layer].vy?A[this.layer].vy*l:0,V=A[this.layer].vx?A[this.layer].vx*l:0;typeof c=="function"&&c.call(p.dragged.parentNode[j],V,T,e,ee,A[this.layer].el)!=="continue"||Ge(A[this.layer].el,V,T)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&v!==s&&(v=ht(v,!1)));_e=u}},30),en=function(t){var n=t.originalEvent,o=t.putSortable,i=t.dragEl,r=t.activeSortable,a=t.dispatchSortableEvent,l=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(!!n){var u=o||r;l();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,f=document.elementFromPoint(c.clientX,c.clientY);s(),u&&!u.el.contains(f)&&(a("spill"),this.onSpill({dragEl:i,putSortable:o}))}};function we(){}we.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var i=Ct(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:en};st(we,{pluginName:"revertOnSpill"});function De(){}De.prototype={onSpill:function(t){var n=t.dragEl,o=t.putSortable,i=o||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:en};st(De,{pluginName:"removeOnSpill"});p.mount(new so);p.mount(De,we);function pe(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function Ve(e,t,n){const o=n===0?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,o)}function uo(){return typeof window<"u"?window.console:global.console}const co=uo();function fo(e){const t=Object.create(null);return function(o){return t[o]||(t[o]=e(o))}}const ho=/-(\w)/g,po=fo(e=>e.replace(ho,(t,n)=>n.toUpperCase())),nn=["Start","Add","Remove","Update","End"],on=["Choose","Unchoose","Sort","Filter","Clone"],rn=["Move"],mo=[rn,nn,on].flatMap(e=>e).map(e=>`on${e}`),ye={manage:rn,manageAndEmit:nn,emit:on};function go(e){return mo.indexOf(e)!==-1}const vo=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function bo(e){return vo.includes(e)}function _o(e){return["transition-group","TransitionGroup"].includes(e)}function an(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function ln(e){return e.reduce((t,[n,o])=>(t[n]=o,t),{})}function yo({$attrs:e,componentData:t={}}){return{...ln(Object.entries(e).filter(([o,i])=>an(o))),...t}}function Eo({$attrs:e,callBackBuilder:t}){const n=ln(sn(e));Object.entries(t).forEach(([i,r])=>{ye[i].forEach(a=>{n[`on${a}`]=r(a)})});const o=`[data-draggable]${n.draggable||""}`;return{...n,draggable:o}}function sn(e){return Object.entries(e).filter(([t,n])=>!an(t)).map(([t,n])=>[po(t),n]).filter(([t,n])=>!go(t))}const Re=({el:e})=>e,wo=(e,t)=>e.__draggable_context=t,He=e=>e.__draggable_context;class Do{constructor({nodes:{header:t,default:n,footer:o},root:i,realList:r}){this.defaultNodes=n,this.children=[...t,...n,...o],this.externalComponent=i.externalComponent,this.rootTransition=i.transition,this.tag=i.tag,this.realList=r}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(t,n){const{tag:o,children:i,_isRootComponent:r}=this;return t(o,n,r?{default:()=>i}:i)}updated(){const{defaultNodes:t,realList:n}=this;t.forEach((o,i)=>{wo(Re(o),{element:n[i],index:i})})}getUnderlyingVm(t){return He(t)}getVmIndexFromDomIndex(t,n){const{defaultNodes:o}=this,{length:i}=o,r=n.children,a=r.item(t);if(a===null)return i;const l=He(a);if(l)return l.index;if(i===0)return 0;const s=Re(o[0]),u=[...r].findIndex(c=>c===s);return t<u?0:i}}function So(e,t){const n=e[t];return n?n():[]}function Co({$slots:e,realList:t,getKey:n}){const o=t||[],[i,r]=["header","footer"].map(s=>So(e,s)),{item:a}=e;if(!a)throw new Error("draggable element must have an item slot");const l=o.flatMap((s,u)=>a({element:s,index:u}).map(c=>(c.key=n(s),c.props={...c.props||{},"data-draggable":!0},c)));if(l.length!==o.length)throw new Error("Item slot must have only one child");return{header:i,footer:r,default:l}}function To(e){const t=_o(e),n=!bo(e)&&!t;return{transition:t,externalComponent:n,tag:n?q(e):t?_n:e}}function xo({$slots:e,tag:t,realList:n,getKey:o}){const i=Co({$slots:e,realList:n,getKey:o}),r=To(t);return new Do({nodes:i,root:r,realList:n})}function un(e,t){Xe(()=>this.$emit(e.toLowerCase(),t))}function dn(e){return(t,n)=>{if(this.realList!==null)return this[`onDrag${e}`](t,n)}}function Io(e){const t=dn.call(this,e);return(n,o)=>{t.call(this,n,o),un.call(this,e,n)}}let me=null;const Fo={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Oo=["update:modelValue","change",...[...ye.manageAndEmit,...ye.emit].map(e=>e.toLowerCase())],Ao=Ue({name:"draggable",inheritAttrs:!1,props:Fo,emits:Oo,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:e,$attrs:t,tag:n,componentData:o,realList:i,getKey:r}=this,a=xo({$slots:e,tag:n,realList:i,getKey:r});this.componentStructure=a;const l=yo({$attrs:t,componentData:o});return a.render(Ce,l)}catch(e){return this.error=!0,Ce("pre",{style:{color:"red"}},e.stack)}},created(){this.list!==null&&this.modelValue!==null&&co.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:e,$el:t,componentStructure:n}=this;n.updated();const o=Eo({$attrs:e,callBackBuilder:{manageAndEmit:r=>Io.call(this,r),emit:r=>un.bind(this,r),manage:r=>dn.call(this,r)}}),i=t.nodeType===1?t:t.parentElement;this._sortable=new p(i,o),this.targetDomElement=i,i.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList(){const{list:e}=this;return e||this.modelValue},getKey(){const{itemKey:e}=this;return typeof e=="function"?e:t=>t[e]}},watch:{$attrs:{handler(e){const{_sortable:t}=this;!t||sn(e).forEach(([n,o])=>{t.option(n,o)})},deep:!0}},methods:{getUnderlyingVm(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent(e){return e.__draggable_component__},emitChanges(e){Xe(()=>this.$emit("change",e))},alterList(e){if(this.list){e(this.list);return}const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){const e=t=>t.splice(...arguments);this.alterList(e)},updatePosition(e,t){const n=o=>o.splice(t,0,o.splice(e,1)[0]);this.alterList(n)},getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getUnderlyingPotencialDraggableComponent(e);if(!n)return{component:n};const o=n.realList,i={list:o,component:n};return e!==t&&o?{...n.getUnderlyingVm(t)||{},...i}:i},getVmIndexFromDomIndex(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),me=e.item},onDragAdd(e){const t=e.item._underlying_vm_;if(t===void 0)return;pe(e.item);const n=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(n,0,t);const o={element:t,newIndex:n};this.emitChanges({added:o})},onDragRemove(e){if(Ve(this.$el,e.item,e.oldIndex),e.pullMode==="clone"){pe(e.clone);return}const{index:t,element:n}=this.context;this.spliceList(t,1);const o={element:n,oldIndex:t};this.emitChanges({removed:o})},onDragUpdate(e){pe(e.item),Ve(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,n);const o={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:o})},computeFutureIndex(e,t){if(!e.element)return 0;const n=[...t.to.children].filter(a=>a.style.display!=="none"),o=n.indexOf(t.related),i=e.component.getVmIndexFromDomIndex(o);return n.indexOf(me)!==-1||!t.willInsertAfter?i:i+1},onDragMove(e,t){const{move:n,realList:o}=this;if(!n||!o)return!0;const i=this.getRelatedContextFromMoveEvent(e),r=this.computeFutureIndex(i,e),a={...this.context,futureIndex:r},l={...e,relatedContext:i,draggedContext:a};return n(l,t)},onDragEnd(){me=null}}}),Po=Ao;let Wt;const No=new Uint8Array(16);function ko(){if(!Wt&&(Wt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wt(No)}const B=[];for(let e=0;e<256;++e)B.push((e+256).toString(16).slice(1));function Bo(e,t=0){return(B[e[t+0]]+B[e[t+1]]+B[e[t+2]]+B[e[t+3]]+"-"+B[e[t+4]]+B[e[t+5]]+"-"+B[e[t+6]]+B[e[t+7]]+"-"+B[e[t+8]]+B[e[t+9]]+"-"+B[e[t+10]]+B[e[t+11]]+B[e[t+12]]+B[e[t+13]]+B[e[t+14]]+B[e[t+15]]).toLowerCase()}const Lo=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ze={randomUUID:Lo};function Mo(e,t,n){if(ze.randomUUID&&!t&&!e)return ze.randomUUID();e=e||{};const o=e.random||(e.rng||ko)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=o[i];return t}return Bo(o)}const Vo={class:"path-item-btn"},Ro={style:{"padding-bottom":"10px",display:"flex"}},Ho={style:{flex:"1","text-align":"right"}},zo={class:"dialog-footer"},Uo=Ue({__name:"CameraPath",props:{bRefresh:gn.bool.def(!1)},emits:["update:bRefresh"],setup(e,{emit:t}){const n=e,o=It([]),i=It(!1),r=It(null),a=It(),l=It([]);yn(()=>n.bRefresh,b=>{b&&(s(),t("update:bRefresh",!1))}),s();function s(){On().then(b=>{o.value=b.data})}function u(){mn().then(b=>{const C=[];b.data.forEach(I=>{I.istatus==1&&C.push(I)}),l.value=C})}function c(b){u(),r.value=b,r.value.istatus==0&&(r.value.cruises=[]),i.value=!0}function f(b){Pn(b.id).then(C=>{s()})}function v(b){kn(b.id).then(C=>{oe("\u5F00\u59CB\u6210\u529F",{type:"success"})})}function S(b){Nn().then(C=>{C.data.iCruiseID<0?v(b):wn.confirm("\u5F53\u524D\u6709\u5DE1\u822A\u4EFB\u52A1\u6267\u884C\uFF0C\u662F\u5426\u505C\u6B62\u5F00\u59CB\u65B0\u4EFB\u52A1\uFF1F","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{v(b)})})}function _(b){Bn(b.id).then(C=>{oe("\u505C\u6B62\u6210\u529F",{type:"success"})})}function w(){r.value.cruises.push({id:Mo(),positionID:null,speed:null,time:null})}function Y(){a.value.validate((b,C)=>{b&&r.value&&An(r.value).then(I=>{i.value=!1,s(),oe("\u8BBE\u7F6E\u6210\u529F",{type:"success"})})})}function Z(b){if(r.value){const C=r.value.cruises.indexOf(b);C>-1&&r.value.cruises.splice(C,1)}}return(b,C)=>{const I=q("IconifyIconOffline"),N=q("el-button"),k=q("el-tooltip"),J=q("el-button-group"),U=q("el-col"),M=q("el-row"),pt=q("el-option"),tt=q("el-select"),it=q("el-form-item"),G=q("el-input-number"),rt=q("el-form");return dt(),Rt("div",null,[(dt(!0),Rt(Te,null,xe(o.value,T=>(dt(),Rt("div",{key:T.id,class:"path-item"},[mt("span",{class:En({"title-disable":T.istatus===0})},Ie("\u5DE1\u822A\u8DEF\u5F84"+(T.id+1)),3),mt("div",Vo,[g(J,null,{default:y(()=>[T.istatus==1?(dt(),Ht(k,{key:0,effect:"dark",content:"\u5F00\u59CB",placement:"top","show-after":300},{default:y(()=>[g(N,{type:"default",onClick:V=>S(T)},{default:y(()=>[g(I,{width:"20",icon:at(Cn)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024)):ie("",!0),T.istatus==1?(dt(),Ht(k,{key:1,effect:"dark",content:"\u505C\u6B62",placement:"top","show-after":300},{default:y(()=>[g(N,{type:"default",onClick:V=>_(T)},{default:y(()=>[g(I,{width:"20",icon:at(Sn)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024)):ie("",!0),g(k,{effect:"dark",content:"\u8BBE\u7F6E",placement:"top","show-after":300},{default:y(()=>[g(N,{type:"default",onClick:V=>c(T)},{default:y(()=>[g(I,{icon:at(pn)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024),T.istatus==1?(dt(),Ht(k,{key:2,effect:"dark",content:"\u5220\u9664",placement:"top","show-after":300},{default:y(()=>[g(N,{type:"default",onClick:V=>f(T)},{default:y(()=>[g(I,{icon:at(hn)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024)):ie("",!0)]),_:2},1024)])]))),128)),g(at(bn),{modelValue:i.value,"onUpdate:modelValue":C[2]||(C[2]=T=>i.value=T),title:"\u5DE1\u822A\u8DEF\u5F84\u8BBE\u7F6E",width:"40%",draggable:""},{footer:y(()=>[mt("span",zo,[g(N,{onClick:C[1]||(C[1]=T=>i.value=!1)},{default:y(()=>[_t("\u53D6\u6D88")]),_:1}),g(N,{type:"primary",onClick:Y},{default:y(()=>[_t(" \u786E\u5B9A ")]),_:1})])]),default:y(()=>[mt("div",Ro,[mt("span",null,"\u5DE1\u822A\u8DEF\u5F84"+Ie(r.value.id+1),1),mt("div",Ho,[g(N,{onClick:w,type:"primary"},{default:y(()=>[g(I,{icon:at(vn)},null,8,["icon"]),_t(" \u6DFB\u52A0 ")]),_:1})])]),mt("div",null,[g(rt,{ref_key:"formRef",ref:a,model:r.value,"label-width":"0"},{default:y(()=>[g(M,{class:"path-add-line",style:{"padding-bottom":"10px"}},{default:y(()=>[g(U,{span:7,class:"path-add-line-item"},{default:y(()=>[_t(" \u9884\u7F6E\u70B9 ")]),_:1}),g(U,{span:7,class:"path-add-line-item"},{default:y(()=>[_t(" \u901F\u5EA6 ")]),_:1}),g(U,{span:7,class:"path-add-line-item"},{default:y(()=>[_t(" \u65F6\u95F4(s) ")]),_:1}),g(U,{span:3})]),_:1}),g(at(Po),{modelValue:r.value.cruises,"onUpdate:modelValue":C[0]||(C[0]=T=>r.value.cruises=T),"item-key":"id","chosen-class":"chosen","force-fallback":"true",animation:"300"},{item:y(({element:T,index:V})=>[g(M,{class:"path-add-line"},{default:y(()=>[g(U,{span:7},{default:y(()=>[g(it,{class:"path-add-line-item-padding",prop:"cruises."+V+".positionID",rules:{required:!0,message:"\u8BF7\u9009\u62E9\u9884\u7F6E\u70B9",trigger:"change"}},{default:y(()=>[g(tt,{modelValue:T.positionID,"onUpdate:modelValue":H=>T.positionID=H,placeholder:"\u8BF7\u9009\u62E9",size:"small"},{default:y(()=>[(dt(!0),Rt(Te,null,xe(l.value,H=>(dt(),Ht(pt,{key:H.id,label:H.positionName,value:H.id},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),g(U,{span:7},{default:y(()=>[g(it,{class:"path-add-line-item-padding",prop:"cruises."+V+".speed",rules:{required:!0,message:"\u8BF7\u8F93\u5165\u901F\u5EA6",trigger:"change"}},{default:y(()=>[g(G,{style:{width:"100%"},modelValue:T.speed,"onUpdate:modelValue":H=>T.speed=H,placeholder:"\u8BF7\u8F93\u5165",size:"small",min:1},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),g(U,{span:7},{default:y(()=>[g(it,{class:"path-add-line-item-padding",prop:"cruises."+V+".time",rules:{required:!0,message:"\u8BF7\u8F93\u5165\u65F6\u95F4",trigger:"change"}},{default:y(()=>[g(G,{style:{width:"100%"},modelValue:T.time,"onUpdate:modelValue":H=>T.time=H,placeholder:"\u8BF7\u8F93\u5165",size:"small",min:10},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop"])]),_:2},1024),g(U,{span:3},{default:y(()=>[g(J,null,{default:y(()=>[g(k,{effect:"dark",content:"\u6309\u4F4F\u62D6\u62FD\u79FB\u52A8",placement:"top","show-after":300},{default:y(()=>[g(N,{type:"default",size:"small"},{default:y(()=>[g(I,{icon:at(Fn)},null,8,["icon"])]),_:1})]),_:1}),g(k,{effect:"dark",content:"\u5220\u9664",placement:"top","show-after":300},{default:y(()=>[g(N,{type:"default",size:"small",onClick:H=>Z(T)},{default:y(()=>[g(I,{icon:at(xn)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])]),_:1},8,["model"])])]),_:1},8,["modelValue"])])}}});const Go=Dn(Uo,[["__scopeId","data-v-1749e003"]]);export{Go as default};
