import{d as J,r as V,M as Z,W as se,X as re,o as C,F as _,b as v,H as K,G as H,O as ue,a1 as de,e as y,w as E,Y as ce,Z as ve,a2 as P,ag as pe,g as q,aM as Ae,I as W,J as X,P as fe,c as me,az as he,t as x,aN as Ce,_ as j,v as ge,a as I,u as L,m as Y}from"./index-98552006.js";import{V as G,g as be,S,P as _e,s as $,a as Q}from"./index-2df8a7f5.js";import ye from"./PostionList-a65f1c72.js";import we from"./CameraPath-ca6cfd67.js";import"./setting-f0b02557.js";import"./close-2eeed736.js";import"./Dialog-d04ee64f.js";const Se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAJ1JREFUSEvtldENgzAQQ58nKUyCOgntKJ0EOgntJHSTIKSARHRVCCISH7nfXOycbV1E5lJmfApBVOGNRM650bjxBBrgEUXzDZLqpTckcAbIHWgTCVbcQmDaIul6Es0vnZO0qyS9UlNUAbcA/Qv8fMI2R0cIrJj2wBsYwrHO8qAQrMr+WxWHJEpZdh9vcmeYbC+7XSFPbCo/WlSw7BJNpxJUGViR4cIAAAAASUVORK5CYII=",Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAASJJREFUSEvNlY1twjAQhd+bpGWTZpKWSUgmKUxCOgnd5NCL7NQxIT6TRmApiuSf++7/iI0XN5aPWYCZvQdw/Bf1INnPXboBmNkBQFuUOH+hJdmlRxNApfAjgJ+MI+V6kvu4nwOsQvMmd0ui4Hg2AszsA8C5AvALQF8XQVsA9qkVCUD7cuFfFlVaIM0H4eHdgWTzn4DBx4lSg6sAfAKQq1dboCx5W0jn1YBSLrweoAkpeSmpHs4XLVBPUcBUlQpYHlAPYxFwVKmb2TeAU5YtHuG6UwZESZX1EZ/5AKFtR1e5W/c9CyRAQVQ3VFDHFUDeAOvdjqSKbzpwQql/CRKyJkK057VgomDeriVE5f7owLmxfmlkKkXdK3bP/MFzhr5bbcfFK22erBnpEFjlAAAAAElFTkSuQmCC",Re="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAASNJREFUSEu9VdsRgjAQ3O0EKlErUSoRK5FO1Eqkk3OWSfTAYUgwcj+ZYZLd23ssxJ+Df8bH9gRmtgdwBKAzJ3oAF5J3/2ikIIDfclDdXQErqZbkJX6fEthK8IZkZ2ZXACcANUkp+vTAzCoAz0SCOpSxBRDB/ftDLNVbQU55SDLcr0Lm0+QG0qkC1S+p/iKISmeUFyU4A5ACJahT8RuBb6JTov4VIxjNegCO4EUULA1bUokaAMMsh9hpiZaQU3sgYM2yJ4CZpS5ikgIlM1r70gQdySbMOaSmJIEHl78MLlmKoCdZh8wFrgXSWKofMrKU+PYivTKzaHay2zX/BMEMCc7ZtZZFfuSXJiVjf+ed/cjsJual7HNJHtFBPdv2/+TceizdfwGXUKoZsTO5QQAAAABJRU5ErkJggg==",ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAANZJREFUSEvFldERgjAQRHcrUTvRTqQSsRLpRDoRK1knDGHCQEI4JshnhtuX3bskROGPhfVxLEDSB8B5p6uO5MVrTBxI0k7xvpzkqPt3QAPgvuJq9k+ug4ZkJekBoI5AKpKNpDeA65j7hohqks8IxIs7h69wA7kOfM0SJCpubXII+Q6xzHZuiSh03kPcgqSouNWBq+tjGQCpxpvOQZj5KdF400FbamhqujY5SE1LFJI7pi3J20pDPcR00DoAbcmrwnyx5kZUBDDJ0kiIPzhGwWTZsW9yCQc/96KoGUUTYoYAAAAASUVORK5CYII=",ee=l=>(W("data-v-2aedfda4"),l=l(),X(),l),Ue={class:"video-wrap"},De=["onClick"],Ee={key:0,class:"tool-bar"},Be=ee(()=>v("img",{src:Se},null,-1)),Fe=["onClick"],Te=["title"],Le={key:0,src:Ve},Oe={key:1,src:Re},Ne=ee(()=>v("img",{src:ke},null,-1)),Ie=[Ne];var oe=(l=>(l.SRSWebRtc="SRSWebRtcVideoPlayer",l))(oe||{});const Qe=[{title:"1*1",videoRow:1,videoColumn:1},{title:"1*2",videoRow:1,videoColumn:2},{title:"2*1",videoRow:2,videoColumn:1},{title:"2*2",videoRow:2,videoColumn:2},{title:"2*3",videoRow:2,videoColumn:3},{title:"3*2",videoRow:3,videoColumn:2},{title:"3*3",videoRow:3,videoColumn:3},{title:"3*4",videoRow:3,videoColumn:4},{title:"4*4",videoRow:4,videoColumn:4}],Je=J({components:{SRSWebRtcVideoPlayer:Ae(()=>Ce(()=>import("./index-a2113198.js").then(l=>l.i),["static/js/index-a2113198.js","static/css/index-02947474.css","static/js/index-98552006.js","static/css/index-9197e886.css","static/js/index-2df8a7f5.js","static/css/index-e9135f3a.css"]))}}),Me=J({...Je,__name:"index",props:{videoType:{type:String,require:!0,default:"SRSWebRtcVideoPlayer"},rowNum:{type:Number,require:!0,default:4},columnNum:{type:Number,require:!0,default:4},toolBarLayout:{type:Array,require:!1,default:Qe},selectVideoIndex:{type:Number,require:!1,default:0},optionFunc:{type:Object,require:!1,default:null},options:{type:Object,require:!0,default:new G},showToolBar:{type:Boolean,require:!1,default:!0},videoBorderColor:{type:String,require:!1,default:"#666"},selectVideoBorderColor:{type:String,require:!1,default:"#00b7ff"}},emits:["update:selectVideoIndex","update:rowNum","update:columnNum","onCloseVideo","onCloseAllVideo","onDrawClean","onDrawFinish","onVideoRecord","onHorizontalMirror","onVerticalMirror","onDownload"],setup(l,{expose:U,emit:m}){const h=l,s=V(h.rowNum),t=V(h.columnNum),r=V([]),k=V([]),R=V(!1),D=V(!1);Z(()=>h.rowNum,e=>{s.value=e,B()}),Z(()=>h.columnNum,e=>{t.value=e,B()}),B(),se(()=>{document.addEventListener("click",N)}),re(()=>{document.removeEventListener("click",N)});function N(){D.value=!1}function B(){if(r.value.length==0)for(let e=0;e<s.value*t.value;e++)r.value.push(""),k.value.push(!1);else if(r.value.length<s.value*t.value)for(let e=0;e<s.value*t.value-r.value.length;e++)r.value.push(""),k.value.push(!1);else r.value.length>s.value*t.value&&(r.value=r.value.splice(0,s.value*t.value),k.value=k.value.splice(0,s.value*t.value))}function M(e){e.videoColumn!=t.value&&(t.value=e.videoColumn,m("update:columnNum",e.videoColumn)),e.videoRow!=s.value&&(s.value=e.videoRow,m("update:rowNum",e.videoRow))}function z(e){O(e)}function O(e){m("update:selectVideoIndex",e)}function a(e){m("onCloseVideo",e)}function o(e){m("onDrawClean",e)}function n(e,c){m("onDrawFinish",e,c)}function u(e,c){m("onVideoRecord",e,c)}function g(e,c=null){const d=c!=null?c:h.selectVideoIndex;d>=s.value*t.value||(r.value[d]=e,d+1<s.value*t.value&&O(d+1))}function f(e,c=null){const d=c!=null?c:h.selectVideoIndex;if(d>=s.value*t.value)return;let i=d;for(let T=0;T<e.length;T++){const p=e[T];if(i=d+T,i>=s.value*t.value)break;r.value[i]=p}i+1<s.value*t.value&&O(i+1)}function A(e){e>0&&e<r.value.length&&(r.value[e]="")}function b(){r.value=[],B()}function F(e){return e>=0&&e<r.value.length?r.value[e]:""}function ae(e,c){const d=e;d>=s.value*t.value||(k.value[d]=c)}function ne(e){m("onHorizontalMirror",e)}function le(e){m("onVerticalMirror",e)}function ie(e){m("onDownload",e)}return U({openVideoList:f,openVideo:g,closeVideo:A,closeAllVideo:b,updateVideoRecordStatus:ae,getVideoUrl:F}),(e,c)=>(C(),_("div",{class:P(["video-wrap-box",{webFullScreen:R.value}])},[v("div",Ue,[(C(!0),_(K,null,H(s.value,(d,i)=>(C(),_("div",{key:i,class:"video-wrap-row"},[(C(!0),_(K,null,H(t.value,(T,p)=>(C(),_("div",{key:p,class:"video-wrap-column",style:fe({borderColor:i*t.value+p==l.selectVideoIndex?l.selectVideoBorderColor:l.videoBorderColor}),onClick:w=>z(i*t.value+p)},[(C(),me(he(l.videoType),{"play-url":r.value[i*t.value+p],"onUpdate:play-url":w=>r.value[i*t.value+p]=w,options:h.optionFunc==null?h.options:h.optionFunc.getVideoParams(i*t.value+p),"b-recording":k.value[i*t.value+p],onOnCloseVideo:w=>a(i*t.value+p),onOnDrawClean:w=>o(i*t.value+p),onOnDrawFinish:w=>n(i*t.value+p,w),onOnVideoRecord:w=>u(i*t.value+p,w),onOnHorizontalMirror:w=>ne(i*t.value+p),onOnVerticalMirror:w=>le(i*t.value+p),onOnDownload:w=>ie(i*t.value+p)},null,40,["play-url","onUpdate:play-url","options","b-recording","onOnCloseVideo","onOnDrawClean","onOnDrawFinish","onOnVideoRecord","onOnHorizontalMirror","onOnVerticalMirror","onOnDownload"]))],12,De))),128))]))),128)),l.showToolBar?(C(),_("div",Ee,[ue(e.$slots,"toolbar",{},void 0,!0),l.toolBarLayout.length>0?(C(),_("div",{key:0,class:"tool-bar-item",title:"\u5207\u6362\u5E03\u5C40",onClick:[c[0]||(c[0]=d=>D.value=!D.value),c[1]||(c[1]=de(()=>{},["stop"]))]},[Be,y(pe,{name:"fade"},{default:E(()=>[ce(v("div",{class:P(["tool-bar-layout",{show:D.value}])},[(C(!0),_(K,null,H(l.toolBarLayout,(d,i)=>(C(),_("div",{key:"tool-bar-layout-item"+i,class:P(["tool-bar-layout-item",{active:d.videoRow==s.value&&d.videoColumn==t.value}]),onClick:T=>M(d)},[v("span",null,x(d.title),1)],10,Fe))),128))],2),[[ve,D.value]])]),_:1})])):q("",!0),v("div",{class:"tool-bar-item",title:R.value?"\u53D6\u6D88\u7F51\u9875\u5168\u5C4F":"\u7F51\u9875\u5168\u5C4F",onClick:c[2]||(c[2]=d=>R.value=!R.value)},[R.value?(C(),_("img",Oe)):(C(),_("img",Le))],8,Te),v("div",{class:"tool-bar-item",title:"\u5168\u90E8\u5173\u95ED",onClick:b},Ie)])):q("",!0)])],2))}});const ze=j(Me,[["__scopeId","data-v-2aedfda4"]]),Ke={width:1024,height:1024,body:'<path fill="currentColor" d="m768 576l192-64v320l-192-64v96a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V480a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v96zM192 768v64h384v-64H192zm192-480a160 160 0 0 1 320 0a160 160 0 0 1-320 0zm64 0a96 96 0 1 0 192.064-.064A96 96 0 0 0 448 288zm-320 32a128 128 0 1 1 256.064.064A128 128 0 0 1 128 320zm64 0a64 64 0 1 0 128 0a64 64 0 0 0-128 0z"/>'},He=Ke,Pe={width:1024,height:1024,body:'<path fill="currentColor" d="M288 128h608L736 384l160 256H288v320h-96V64h96v64z"/>'},Ze=Pe,qe={width:24,height:24,body:'<path fill="currentColor" d="M4 15V8.5a4.5 4.5 0 0 1 9 0v7a2.5 2.5 0 1 0 5 0V8.83a3.001 3.001 0 1 1 2 0v6.67a4.5 4.5 0 1 1-9 0v-7a2.5 2.5 0 0 0-5 0V15h3l-4 5l-4-5h3zm15-8a1 1 0 1 0 0-2a1 1 0 0 0 0 2z"/>'},Ye=qe,te=l=>(W("data-v-37d383a9"),l=l(),X(),l),$e={class:"page-box"},We={class:"tree-menu-box"},Xe={class:"tree-menu-item"},xe={class:"tree-menu-item-title"},je={class:"player-video-platform"},Ge={class:"right-menu"},eo={class:"camera-path"},oo={class:"camera-tabs-label"},to=te(()=>v("span",null,"\u70B9\u4F4D",-1)),ao={class:"camera-tabs-label"},no=te(()=>v("span",null,"\u5DE1\u822A",-1)),lo=J({name:"Welcome"}),io=J({...lo,setup(l){const U=V(),m=V([]),h=V(0),s=V(!1);let t=[];const r=V({getVideoParams(a){const o={...new G,stretch:!0,showVoice:!1,brokenLineCount:1,drawAutoCloseWithFinish:!0};if(!U.value)return o;const n=U.value.getVideoUrl(a),u=t.find(g=>g.mainStreamURL===n||g.subStreamURL===n);return u&&(o.showDrawPoint=u.streamType==S.ir,o.showDrawLine=u.streamType==S.ir,o.showDrawPolygon=u.streamType==S.ir,o.showDrawRect=u.streamType==S.ir,o.showCleanDraw=u.streamType==S.ir),o}});be().then(a=>{t=a.data;let o=[],n=[],u=[],g=[],f="",A="";a.data.forEach((b,F)=>{switch(b.streamType){case S.rgb:{o=R("\u53EF\u89C1\u5149",b,F),f=b.streamChannel;break}case S.rgbDetec:{n=R("\u76EE\u6807\u68C0\u6D4B",b,F),f=b.streamChannel;break}case S.ir:{u=R("\u7EA2\u5916",b,F),A=b.streamChannel;break}case S.irTemp:{g=R("\u6E29\u5EA6\u573A",b,F),A=b.streamChannel;break}}}),m.value=[{id:"1",label:f,streamChannel:f,children:[...o,...n]},{id:"2",label:A,streamChannel:A,children:[...u,...g]}]});const k=ge(()=>{const a=D();return a===null?null:a==S.ir||a==S.irTemp?1:0});function R(a,o,n){const u=[];return u.push({id:n+"-1",label:a+"\u4E3B\u7801\u6D41",streamChannel:o.streamChannel,streamType:o.streamType,url:o.mainStreamURL}),o.subStreamURL&&u.push({id:n+"-2",label:a+"\u5B50\u7801\u6D41",streamChannel:o.streamChannel,streamType:o.streamType,url:o.subStreamURL}),u}function D(){if(!U.value)return null;const a=U.value.getVideoUrl(h.value),o=t.find(n=>n.mainStreamURL===a||n.subStreamURL===a);return o?o.streamType:null}function N(a){a.url&&U.value.openVideo(a.url)}function B(a){a==1&&(s.value=!0)}function M(a){}function z(a){$({iEnabled:0,iType:0,regional:[]}).then(n=>{Y("\u6E05\u9664\u6210\u529F",{type:"success"})})}function O(a,o){const n={iEnabled:1,iType:0,regional:[]};switch(o.type){case Q.point:n.iType=0;break;case Q.brokenline:n.iType=1;break;case Q.polygon:case Q.rect:n.iType=2;break}const u=423,g=345;if(!(o.pointList.length<=0)){n.regional=[];for(let f=0;f<o.pointList.length;f++){const A=o.pointList[f];n.regional.push({id:f,iPositionX:Math.round(A.x*u/o.canvasWidth),iPositionY:Math.round(A.y*g/o.canvasHeight)})}$(n).then(f=>{Y("\u8BBE\u7F6E\u6210\u529F",{type:"success"})})}}return(a,o)=>{const n=I("IconifyIconOffline"),u=I("el-tree"),g=I("el-tab-pane"),f=I("el-tabs");return C(),_("div",$e,[v("div",We,[y(u,{class:"tree-menu",data:m.value,"node-key":"id","default-expand-all":"","expand-on-click-node":!0,onNodeClick:N},{default:E(({node:A})=>[v("div",Xe,[y(n,{icon:L(He)},null,8,["icon"]),v("span",xe,x(A.label),1)])]),_:1},8,["data"])]),v("div",je,[y(ze,{ref_key:"playerRef",ref:U,"select-video-index":h.value,"onUpdate:select-video-index":o[0]||(o[0]=A=>h.value=A),"row-num":2,"column-num":2,"video-type":L(oe).SRSWebRtc,optionFunc:r.value,onOnCloseVideo:M,onOnDrawFinish:O,onOnDrawClean:z},null,8,["select-video-index","video-type","optionFunc"])]),v("div",Ge,[y(_e,{class:"pan-tilt","video-type":L(k)},null,8,["video-type"]),v("div",eo,[y(f,{type:"border-card",class:"camera-tabs",onTabChange:B},{default:E(()=>[y(g,null,{label:E(()=>[v("span",oo,[y(n,{icon:L(Ze)},null,8,["icon"]),to])]),default:E(()=>[y(ye,{class:"camera-tabs-content","video-type":L(k)},null,8,["video-type"])]),_:1}),y(g,null,{label:E(()=>[v("span",ao,[y(n,{icon:L(Ye)},null,8,["icon"]),no])]),default:E(()=>[y(we,{bRefresh:s.value,"onUpdate:bRefresh":o[1]||(o[1]=A=>s.value=A)},null,8,["bRefresh"])]),_:1})]),_:1})])])])}}});const fo=j(io,[["__scopeId","data-v-37d383a9"]]);export{fo as default};
