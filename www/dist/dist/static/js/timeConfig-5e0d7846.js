import{C as R,d as L,r as x,D as Z,E as Y,a as d,o as _,c as D,w as o,b as $,e as i,F as q,G as P,H as j,f as B,u as M,g as V,t as z,m as O,I as G,J,_ as W}from"./index-98552006.js";import{u as K}from"./useNav-2cc20504.js";import{a as A,b as Q,c as X}from"./system-b297d58e.js";var I={exports:{}};(function(h,H){(function(F,g){h.exports=g()})(R,function(){var F="minute",g=/[+-]\d\d(?::?\d\d)?/g,k=/([+-]|\d\d)/g;return function(t,v,c){var u=v.prototype;c.utc=function(e){var l={date:e,utc:!0,args:arguments};return new v(l)},u.utc=function(e){var l=c(this.toDate(),{locale:this.$L,utc:!0});return e?l.add(this.utcOffset(),F):l},u.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var y=u.parse;u.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),y.call(this,e)};var S=u.init;u.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else S.call(this)};var n=u.utcOffset;u.utcOffset=function(e,l){var p=this.$utils().u;if(p(e))return this.$u?0:p(this.$offset)?n.call(this):this.$offset;if(typeof e=="string"&&(e=function(b){b===void 0&&(b="");var E=b.match(g);if(!E)return null;var a=(""+E[0]).match(k)||["-",0,0],w=a[0],U=60*+a[1]+ +a[2];return U===0?0:w==="+"?U:-U}(e),e===null))return this;var r=Math.abs(e)<=16?60*e:e,f=this;if(l)return f.$offset=r,f.$u=e===0,f;if(e!==0){var T=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(f=this.local().add(r+T,F)).$offset=r,f.$x.$localOffset=T}else f=this.utc();return f};var s=u.format;u.format=function(e){var l=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return s.call(this,l)},u.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var m=u.toDate;u.toDate=function(e){return e==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var C=u.diff;u.diff=function(e,l,p){if(e&&this.$u===e.$u)return C.call(this,e,l,p);var r=this.local(),f=c(e).local();return C.call(r,f,l,p)}}})})(I);const ee=I.exports,N=h=>(G("data-v-7198fc30"),h=h(),J(),h),te={class:"page-content"},ue={class:"flex items-center item-box"},ae=N(()=>$("div",{class:"info-label"},"\u65F6\u533A",-1)),oe={class:"flex items-center item-box"},se=N(()=>$("div",{class:"info-label"},null,-1)),le={class:"info-value"},ie=L({__name:"timeConfig",setup(h){const H=x([{value:"posix/US/Hawaii",label:"(UTC-10:00) \u590F\u5A01\u5937"},{value:"posix/US/Pacific",label:"(UTC-08:00) \u592A\u5E73\u6D0B\u65F6\u95F4(\u7F8E\u56FD\u548C\u52A0\u62FF\u5927)"},{value:"posix/Europe/London",label:"(UTC+00:00) \u90FD\u67CF\u6797,\u7231\u4E01\u5821,\u91CC\u65AF\u672C,\u4F26\u6566"},{value:"posix/Asia/Shanghai",label:"(UTC+08:00) \u5317\u4EAC,\u91CD\u5E86,\u9999\u6E2F\u7279\u522B\u884C\u653F\u533A,\u4E4C\u9C81\u6728\u9F50"},{value:"posix/Asia/Tokyo",label:"(UTC+09:00) \u5927\u962A,\u672D\u5E4C,\u4E1C\u4EAC"}]),{isAdmin:F}=K(),g=x(),k=x(),t=x({time:"",iAutoMode:0,iRefreshTime:60,sNtpServers:"",sTimeZoneFileDst:"posix/Asia/Shanghai"});Z(()=>{t.value.time&&(t.value.time=Y(t.value.time).add(1,"second").format("YYYY-MM-DD HH:mm:ss"))},1e3),Y.extend(ee);const v=x(Y.utc().utcOffset(8).format("YYYY-MM-DD HH:mm:ss"));function c(n){v.value=Y.utc().utcOffset(n).format("YYYY-MM-DD HH:mm:ss")}A().then(n=>{t.value=n.data,t.value.time=Y(t.value.time).format("YYYY-MM-DD HH:mm:ss")});function u(n){switch(n){case"posix/US/Hawaii":c(-10);break;case"posix/US/Pacific":c(-8);break;case"posix/Europe/London":c(0);break;case"posix/Asia/Tokyo":c(9);break;default:c(8);break}}function y(){g.value.validate((n,s)=>{if(n){const m={...M(t)};Q(m).then(C=>{O("\u8BBE\u7F6E\u6210\u529F",{type:"success"}),A()})}})}function S(){k.value.validate((n,s)=>{if(n){const m={...M(t)};m.time=v.value,X(m).then(C=>{O("\u8BBE\u7F6E\u6210\u529F",{type:"success"}),A()})}})}return(n,s)=>{const m=d("el-option"),C=d("el-select"),e=d("el-radio"),l=d("el-radio-group"),p=d("el-input"),r=d("el-form-item"),f=d("el-button"),T=d("el-form"),b=d("el-date-picker"),E=d("el-card");return _(),D(E,{class:"page-box"},{default:o(()=>[$("div",te,[$("div",ue,[ae,i(C,{class:"flex-1",modelValue:t.value.sTimeZoneFileDst,"onUpdate:modelValue":s[0]||(s[0]=a=>t.value.sTimeZoneFileDst=a),placeholder:"\u8BF7\u9009\u62E9",onChange:u},{default:o(()=>[(_(!0),q(j,null,P(H.value,a=>(_(),D(m,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),$("div",oe,[se,i(l,{modelValue:t.value.iAutoMode,"onUpdate:modelValue":s[1]||(s[1]=a=>t.value.iAutoMode=a),class:"ml-4"},{default:o(()=>[i(e,{label:1},{default:o(()=>[B("NTP\u6821\u65F6")]),_:1}),i(e,{label:0},{default:o(()=>[B("\u624B\u52A8\u6821\u65F6")]),_:1})]),_:1},8,["modelValue"])]),t.value.iAutoMode==1?(_(),D(T,{key:0,ref_key:"ntpFormRef",ref:g,model:t.value,"label-width":"120","hide-required-asterisk":""},{default:o(()=>[i(r,{label:"\u670D\u52A1\u5668\u5730\u5740",prop:"sNtpServers",rules:{required:!0,message:"\u8BF7\u8F93\u5165\u670D\u52A1\u5668\u5730\u5740",trigger:"change"}},{default:o(()=>[i(p,{modelValue:t.value.sNtpServers,"onUpdate:modelValue":s[2]||(s[2]=a=>t.value.sNtpServers=a),placeholder:"\u8BF7\u8F93\u5165\u670D\u52A1\u5668\u5730\u5740"},null,8,["modelValue"])]),_:1}),i(r,{label:"\u6821\u65F6\u65F6\u95F4\u95F4\u9694",prop:"iRefreshTime",rules:{required:!0,message:"\u8BF7\u8F93\u5165\u6821\u65F6\u65F6\u95F4\u95F4\u9694",trigger:"change"}},{default:o(()=>[i(p,{modelValue:t.value.iRefreshTime,"onUpdate:modelValue":s[3]||(s[3]=a=>t.value.iRefreshTime=a),placeholder:"\u8BF7\u8F93\u5165\u6821\u65F6\u65F6\u95F4\u95F4\u9694"},{append:o(()=>[B("\u5206\u949F")]),_:1},8,["modelValue"])]),_:1}),i(r,null,{default:o(()=>[M(F)?(_(),D(f,{key:0,type:"primary",onClick:y},{default:o(()=>[B("\u4FDD\u5B58")]),_:1})):V("",!0)]),_:1})]),_:1},8,["model"])):(_(),D(T,{key:1,ref_key:"manualFormRef",ref:k,model:t.value,"label-width":"120","hide-required-asterisk":""},{default:o(()=>[i(r,{label:"\u8BBE\u5907\u65F6\u95F4"},{default:o(()=>[$("div",le,z(t.value.time),1)]),_:1}),i(r,{label:"\u8BBE\u7F6E\u65F6\u95F4",prop:"currentTime"},{default:o(()=>[i(b,{modelValue:v.value,"onUpdate:modelValue":s[4]||(s[4]=a=>v.value=a),type:"datetime",clearable:!1,"value-format":"YYYY-MM-DD HH:mm:ss",placeholder:"\u8BF7\u9009\u62E9\u8BBE\u7F6E\u65F6\u95F4"},null,8,["modelValue"])]),_:1}),i(r,null,{default:o(()=>[M(F)?(_(),D(f,{key:0,type:"primary",onClick:S},{default:o(()=>[B("\u4FDD\u5B58")]),_:1})):V("",!0)]),_:1})]),_:1},8,["model"]))])]),_:1})}}});const ce=W(ie,[["__scopeId","data-v-7198fc30"]]);export{ce as default};
